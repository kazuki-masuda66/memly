# FSRSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æŠ€è¡“è§£èª¬ã¨å®Ÿè£…æ–¹æ³•

## FSRSï¼ˆFree Spaced Repetition Schedulerï¼‰ã¨ã¯
FSRSï¼ˆFree Spaced Repetition Schedulerï¼‰ã¨ã¯ã€å­¦ç¿’ã‚«ãƒ¼ãƒ‰ã®å¾©ç¿’é–“éš”ã‚’æœ€é©åŒ–ã™ã‚‹æ–°ä¸–ä»£ã®é–“éš”åå¾©ï¼ˆSRSï¼‰ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚Ankiãªã©ã«æ­è¼‰ã•ã‚ŒãŸå¾“æ¥ã®SM2ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ”¹è‰¯ã—ãŸã‚‚ã®ã§ã€**Piotr Wozniak**ï¼ˆSuperMemoã®é–‹ç™ºè€…ï¼‰ãŒæå”±ã—ãŸDSRï¼ˆDifficulty, Stability, Retrievabilityï¼‰ãƒ¢ãƒ‡ãƒ«ã«åŸºã¥ã„ã¦ã„ã¾ã™ ([GitHub - open-spaced-repetition/free-spaced-repetition-scheduler: A spaced repetition algorithm based on DSR model](https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler#:~:text=What%20is%20the%20principle%20of,FSRS))ã€‚FSRSã¯**Jarrett Ye**æ°ã‚‰ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚Œã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚åå‰ã®â€œFreeâ€ã¯ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå¾©ç¿’ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’å‰å€’ã—ãƒ»é…å»¶ã—ã¦ã‚‚ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒé©å¿œã™ã‚‹è‡ªç”±åº¦ã€ã‚’æ„å‘³ã—ã¦ãŠã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¯å…¨ã¦ãƒ­ãƒ¼ã‚«ãƒ«ã§å‡¦ç†ã•ã‚Œã¾ã™ ([GitHub - open-spaced-repetition/free-spaced-repetition-scheduler: A spaced repetition algorithm based on DSR model](https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler#:~:text=The%20algorithm%20,adapt%20to%20the%20user%27s%20memory))ã€‚

FSRSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯2023å¹´ã«Ankiæœ¬ä½“ã¸ã‚‚å®Ÿè£…ã•ã‚Œã€é«˜ç²¾åº¦ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã§æ³¨ç›®ã‚’é›†ã‚ã¦ã„ã¾ã™ã€‚å®Ÿéš›ã€**FSRS v4**ï¼ˆ2023å¹´7æœˆå…¬é–‹ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿17å€‹ï¼‰ã¯SuperMemo-17ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨æ¯”è¼ƒã—ãŸãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§ã‚ãšã‹ã«ä¸Šå›ã‚‹äºˆæ¸¬ç²¾åº¦ã‚’ç¤ºã—ã¾ã—ãŸ ([FSRS is now the most accurate spaced repetition algorithm in the world* : r/Anki](https://www.reddit.com/r/Anki/comments/18csuer/fsrs_is_now_the_most_accurate_spaced_repetition/#:~:text=,This))ã€‚ã“ã‚Œã¯ã€SuperMemoãŒ6æ®µéšè©•ä¾¡ã§ã‚ã‚‹ã®ã«å¯¾ã—FSRSã¯æœ€å¤§4æ®µéšè©•ä¾¡ã§æƒ…å ±é‡ãŒå°‘ãªã„ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšé”æˆã•ã‚ŒãŸçµæœã§ã™ã€‚ã“ã†ã—ãŸç²¾åº¦ã®é«˜ã•ã‹ã‚‰ã€FSRSã¯ç¾æ™‚ç‚¹ã§æœ€ã‚‚æ­£ç¢ºãªSRSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ä¸€ã¤ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã™ ([FSRS is now the most accurate spaced repetition algorithm in the world* : r/Anki](https://www.reddit.com/r/Anki/comments/18csuer/fsrs_is_now_the_most_accurate_spaced_repetition/#:~:text=,This))ã€‚

## ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ‡ãƒ«ã¨ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®åŸç†
FSRSã¯**DSRãƒ¢ãƒ‡ãƒ«**ï¼ˆ3è¦ç´ ãƒ¢ãƒ‡ãƒ«ï¼‰ã«ã‚‚ã¨ã¥ãã€ä»¥ä¸‹ã®3ã¤ã®è¦ç´ ã§è¨˜æ†¶ã®çŠ¶æ…‹ã‚’è¡¨ç¾ã—ã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20DSR%20Model)):

- **é›£æ˜“åº¦ (Difficulty, D)** â€“ ãã®ã‚«ãƒ¼ãƒ‰ã®è¦šãˆã«ãã•ã‚’è¡¨ã™å€¤ã€‚**1ï½10**ã®ç¯„å›²ã®å®Ÿæ•°ã§ã€æ•°å€¤ãŒå¤§ãã„ã»ã©è¦šãˆã¥ã‚‰ã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=type%20S%20%3D%20f64%3B))ã€‚ä¾‹ãˆã°D=1ã¯éå¸¸ã«æ˜“ã—ã„ã‚«ãƒ¼ãƒ‰ã€D=10ã¯æ¥µã‚ã¦é›£ã—ã„ã‚«ãƒ¼ãƒ‰ã§ã™ã€‚
- **å®‰å®šåº¦ (Stability, S)** â€“ è¨˜æ†¶ã®**ä¿æŒå¼·åº¦**ã‚’è¡¨ã™å€¤ã§ã€ç¾åœ¨ã®100%è¨˜æ†¶çŠ¶æ…‹ã‹ã‚‰90%ã®æƒ³èµ·ç‡ã«ä½ä¸‹ã™ã‚‹ã¾ã§ã®æ—¥æ•°ã¨ã—ã¦å®šç¾©ã•ã‚Œã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=type%20R%20%3D%20f64%3B))ã€‚å˜ä½ã¯æ—¥ã§ã€å€¤ãŒå¤§ãã„ã»ã©å¿˜å´ã«æ™‚é–“ãŒã‹ã‹ã‚‹ï¼é•·æœŸè¨˜æ†¶ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¾ã™ã€‚
- **æƒ³èµ·å¯èƒ½æ€§ (Retrievability, R)** â€“ ç¾æ™‚ç‚¹ã§ãã®ã‚«ãƒ¼ãƒ‰ã‚’æƒ³èµ·ã§ãã‚‹ç¢ºç‡ï¼ˆ0ï½1ã®å€¤ï¼‰ã§ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Retrievability%20,0%2C%201))ã€‚æ™‚é–“çµŒéã¨ã¨ã‚‚ã«Rã¯ä½ä¸‹ã—ã€å¾©ç¿’ã®ç›´å¾Œã¯R=1ï¼ˆ100%ï¼‰ã¨ãªã‚Šã¾ã™ã€‚

FSRSã§ã¯å„ã‚«ãƒ¼ãƒ‰ã«å¯¾ã—ã¦é›£æ˜“åº¦Dã¨å®‰å®šåº¦Sã‚’è¨˜éŒ²ã—ã€çµŒéæ—¥æ•°ã‹ã‚‰å‹•çš„ã«æƒ³èµ·å¯èƒ½æ€§Rã‚’è¨ˆç®—ã—ã¾ã™ã€‚æ–°è¦ã‚«ãƒ¼ãƒ‰ã®åˆå›å¾©ç¿’æ™‚ã«ã¯ã€ãã®è©•ä¾¡ã«å¿œã˜ã¦åˆæœŸå®‰å®šåº¦$S_0$ã¨åˆæœŸé›£æ˜“åº¦$D_0$ã‚’æ±ºå®šã—ã¾ã™ã€‚ä¾‹ãˆã°åˆå›è©•ä¾¡ãŒã€Œå¿˜å´ã€ãªã‚‰$S_0 = w_0$æ—¥ã€è©•ä¾¡ãŒã€Œå®¹æ˜“ã€ãªã‚‰$S_0 = w_3$æ—¥ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿$w_0ï½w_3$ã§å®šç¾©ã•ã‚Œã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%5C%5BS_0%28G%29%20%3D%20w_%7BG))ã€‚ã¾ãŸåˆå›é›£æ˜“åº¦ã¯è©•ä¾¡ã«å¿œã˜ã¦ä»¥ä¸‹ã®å¼ã§è¨ˆç®—ã•ã‚Œã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20initial%20difficulty%2C%20after%20the,first%20review%2C%20is%20defined%20by)):

\[D_0(G) = w_4 - e^{\,w_5 \cdot (G-1)} + 1\]

ã“ã“ã§$G$ã¯åˆå›è©•ä¾¡ï¼ˆå¾Œè¿°ã®1ï½4ã®å€¤ï¼‰ã§ã™ã€‚ã“ã®å¼ã«ã‚ˆã‚Šã€åˆå›è©•ä¾¡ãŒè‰¯ã„ã»ã©$D_0$ãŒå°ã•ãï¼ˆæ˜“ã—ãï¼‰è¨­å®šã•ã‚Œã€é€†ã«æ‚ªã„ã»ã©é›£æ˜“åº¦ãŒé«˜ãè¨­å®šã•ã‚Œã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Note%20that%20when%20%24G%3D1%24%20,first%20review%20was%20a%20failure))ã€‚ä¾‹ãˆã°$G=1$ï¼ˆå¤±æ•—ï¼‰ãªã‚‰$D_0 = w_4$ã¨ãªã‚Šã€é–‹ç™ºè€…æä¾›ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§ã¯**$D_0(å¤±æ•—æ™‚) \approx 5.16$**ã€**$D_0(å®¹æ˜“æ™‚)\approx 2.88$**ç¨‹åº¦ã«ãªã‚Šã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=Default%20parameters))ã€‚

æ¬¡å›ã®å¾©ç¿’é–“éš”ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ï¼‰ã¯ã€ç›®æ¨™ã¨ã™ã‚‹æƒ³èµ·ç‡ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§90%ï¼‰ã«åŸºã¥ã„ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚FSRSã¯ã€Œæ¬¡ã®å¾©ç¿’æ™‚ã«**$R_d=0.9$**ã¨ãªã‚‹ã‚ˆã†ã«é–“éš”ã‚’è¨­å®šã™ã‚‹ã€ã“ã¨ã‚’åŸºæœ¬ç›®æ¨™ã¨ã—ã¦ãŠã‚Šã€å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®é–¢ä¿‚å¼ã‚’ç”¨ã„ã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=where%20%24R%28t%2CS%29%3D0)):

\[ R(t, S) = 0.9 \text{ when } t = S, \]

\[ I(r_d, S) = S \cdot \frac{\ln(r_d)}{\ln(0.9)}. \]

ã“ã“ã§$r_d$ã¯è¦æ±‚æƒ³èµ·ç‡ï¼ˆæ—¢å®šå€¤0.9ï¼‰ã§ã™ã€‚ã“ã®å¼ã«ã‚ˆã‚Šã€ç¾åœ¨ã®å®‰å®šåº¦$S$ã«å¿œã˜ã¦**ã€Œ$r_d$ã®æƒ³èµ·ç‡ã‚’ç¶­æŒã§ãã‚‹æœ€å¤§ã®é–“éš”ã€**ãŒè¨ˆç®—ã•ã‚Œã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=where%20%24R%28t%2CS%29%3D0))ã€‚ä¾‹ãˆã°$r_d=0.9$ã§ã‚ã‚Œã°$I(0.9,S)=S$ã¨ãªã‚Šã€æƒ³èµ·ç‡90%ã‚’ç¶­æŒã§ãã‚‹ã‚®ãƒªã‚®ãƒªã®é–“éš”ï¼ç¾åœ¨ã®å®‰å®šåº¦ãã®ã‚‚ã®ãŒæ¬¡å›é–“éš”ã«ãªã‚Šã¾ã™ã€‚ç›®æ¨™æƒ³èµ·ç‡ã‚’ä¸‹ã’ã‚Œã°é–“éš”ã¯é•·ããªã‚Šã€ä¸Šã’ã‚Œã°çŸ­ããªã‚Šã¾ã™ï¼ˆé€šå¸¸ã¯0.9ã«å›ºå®šï¼‰ã€‚ã“ã®ã‚ˆã†ã«FSRSã¯ã‚«ãƒ¼ãƒ‰å€‹åˆ¥ã®è¨˜æ†¶çŠ¶æ³ã«åˆã‚ã›ã¦**ç§‘å­¦çš„æ ¹æ‹ ã«åŸºã¥ã„ãŸæœ€é©ãªå¾©ç¿’é–“éš”**ã‚’ç®—å‡ºã—ã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=1,spacing%20effect%20accumulates%20over%20time))ã€‚

ã•ã‚‰ã«FSRSã®æ•°å¼ã«ã¯ã€è¨˜æ†¶ã«é–¢ã™ã‚‹çµŒé¨“å‰‡ï¼ˆãƒ¡ãƒ¢ãƒªæ³•å‰‡ï¼‰ãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=1,spacing%20effect%20accumulates%20over%20time)):

- **é›£ã—ã„ç´ æã®åŠ¹æœ**: è¦šãˆã‚‹å†…å®¹ãŒè¤‡é›‘ãƒ»é›£ã—ã„ã»ã©ã€1å›ã®å¾©ç¿’ã§å®‰å®šåº¦ãŒå¢—åŠ ã™ã‚‹åº¦åˆã„ï¼ˆSã®ä¼¸ã³å¹…ï¼‰ã¯å°ã•ããªã‚Šã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=1,spacing%20effect%20accumulates%20over%20time))ã€‚é›£æ˜“åº¦DãŒå¤§ãã„ã»ã©è¨˜æ†¶ãŒå®šç€ã—ã¥ã‚‰ã„ã“ã¨ã‚’åæ˜ ã—ã¦ã„ã¾ã™ã€‚
- **å®‰å®šåº¦ã®é£½å’Œ**: æ—¢ã«å®‰å®šåº¦SãŒé«˜ã„ï¼ˆè¨˜æ†¶ãŒå®šç€ã—ã¦ã„ã‚‹ï¼‰ã»ã©ã€ã•ã‚‰ãªã‚‹å¾©ç¿’ã«ã‚ˆã‚‹å®‰å®šåº¦å‘ä¸ŠåŠ¹æœã¯å°ã•ããªã‚Šã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=material,spacing%20effect%20accumulates%20over%20time))ã€‚é•·æœŸè¨˜æ†¶ã«ãªã‚‹ã»ã©è¨˜æ†¶åŠ›ã¯é£½å’Œã—ã¦ã„ãã€ã„ãã‚‰å¾©ç¿’ã—ã¦ã‚‚åŠ‡çš„ã«ã¯ä¼¸ã³ãªã„ã¨ã„ã†ã“ã¨ã§ã™ã€‚
- **ã‚®ãƒªã‚®ãƒªã§ã®å¾©ç¿’åŠ¹æœ**: æƒ³èµ·å¯èƒ½æ€§RãŒä½ã„ï¼ˆå¿˜ã‚Œã‹ã‘ã¦ã„ã‚‹ï¼‰çŠ¶æ…‹ã§å¾©ç¿’ã—ãŸæ–¹ãŒã€å®‰å®šåº¦ã®å¢—åŠ ç‡ã¯å¤§ãããªã‚Šã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=the%20higher%20the%20stability%20of,spacing%20effect%20accumulates%20over%20time))ã€‚**ã€Œå¿˜å´ã—ã‹ã‘ã§å¾©ç¿’ã™ã‚‹ã€**ã»ã†ãŒè¨˜æ†¶åŠ¹æœãŒé«˜ã„ï¼ˆé–“éš”åŠ¹æœï¼‰ã¨ã„ã†åå¾©å­¦ç¿’ã®åŸå‰‡ã‚’å–ã‚Šå…¥ã‚Œã¦ã„ã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=the%20higher%20the%20stability%20of,spacing%20effect%20accumulates%20over%20time))ã€‚

ã“ã‚Œã‚‰ã®è¦ç´ ã‚’ç·åˆã—ã€FSRSã¯å„å¾©ç¿’æ™‚ã«ã‚«ãƒ¼ãƒ‰ã®**å®‰å®šåº¦Sã¨é›£æ˜“åº¦Dã‚’æ›´æ–°**ã—ã€æ¬¡å›å¾©ç¿’æ—¥æ™‚ã‚’æ±ºå®šã—ã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=2,the%20card%20for%20that%20day))ã€‚ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å…¨ä½“ã®æµã‚Œã¯æ¬¡ã®é€šã‚Šã§ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20main%20loop%20of%20the,algorithm%20is)):

1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è§£ç­”è©•ä¾¡**ï¼ˆ4æ®µéšè©•ä¾¡ï¼‰ã‚’å–å¾—ã™ã‚‹ã€‚  
2. **æƒ³èµ·å¯èƒ½æ€§Rã®è¨ˆç®—**: å‰å›å¾©ç¿’ã‹ã‚‰ã®çµŒéæ—¥æ•°ã‚’å…ƒã«ç¾åœ¨ã®Rã‚’ç®—å‡ºã™ã‚‹ã€‚ä¾‹ãˆã°å‰å›ã‹ã‚‰$t$æ—¥çµŒéã—ã¦ã„ã‚Œã°$R = e^{-\frac{t}{S}}$ï¼ˆåˆæœŸçŠ¶æ…‹ã§ã¯$t=0$ãªã®ã§$R=1$ï¼‰ã€‚  
3. **å®‰å®šåº¦Sã®æ›´æ–°**: è©•ä¾¡ã«å¿œã˜ã¦æ–°ã—ã„å®‰å®šåº¦$S'$ã‚’è¨ˆç®—ã™ã‚‹ï¼ˆå¾Œè¿°ï¼‰ã€‚  
4. **é›£æ˜“åº¦Dã®æ›´æ–°**: è©•ä¾¡ã«å¿œã˜ã¦æ–°ã—ã„é›£æ˜“åº¦$D'$ã‚’è¨ˆç®—ã™ã‚‹ï¼ˆå¾Œè¿°ï¼‰ã€‚  
5. **æ¬¡å›é–“éš”ã®è¨ˆç®—**: æ›´æ–°å¾Œã®å®‰å®šåº¦$S'$ã¨ç›®æ¨™æƒ³èµ·ç‡$r_d$ã‹ã‚‰æ¬¡å›å¾©ç¿’ã¾ã§ã®é–“éš”$I$ã‚’ç®—å‡ºã™ã‚‹ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=We%20then%20calculate%20the%20interval,interval%20within%20the%20same%20day)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=t%20%2B%3D%20i%3B%20let%20r%3A,))ã€‚æ±‚ã‚ãŸæ—¥æ•°ã‚’**æ¬¡å›ã®äºˆå®šæ—¥**ã¨ã—ã¦ã‚«ãƒ¼ãƒ‰ã«ã‚»ãƒƒãƒˆã™ã‚‹ï¼ˆæœ€ä½1æ—¥ã¯é–‹ã‘ã‚‹ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=We%20then%20calculate%20the%20interval,interval%20within%20the%20same%20day)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=t%20%2B%3D%20i%3B%20let%20r%3A,))ã€‚

ã“ã®éç¨‹ã‚’ã‚«ãƒ¼ãƒ‰ã”ã¨ã«ç¹°ã‚Šè¿”ã—ã€å„ã‚«ãƒ¼ãƒ‰ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨ˆç”»ã‚’èª¿æ•´ã—ã¦ã„ãã®ãŒFSRSã®åŸºæœ¬å‹•ä½œã§ã™ã€‚

## ãƒ¦ãƒ¼ã‚¶ãƒ¼è©•ä¾¡ã¨ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯
FSRSã§ã¯ã€å„å¾©ç¿’æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»¥ä¸‹ã®**4æ®µéšã®è©•ä¾¡**ã‹ã‚‰è‡ªå·±è©•ä¾¡ã‚’é¸æŠã—ã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20user%E2%80%99s%20self,grade%2C%20and%20it%E2%80%99s%20one%20of))ï¼ˆAnkiã®ã€ŒAgain/Hard/Good/Easyã€ã«ç›¸å½“ï¼‰:

- **å¿˜å´**ï¼ˆ*Forgot*ï¼‰ â€“ å…¨ãæ€ã„å‡ºã›ãªã‹ã£ãŸï¼ˆè©•ä¾¡å€¤=1ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20user%E2%80%99s%20self,grade%2C%20and%20it%E2%80%99s%20one%20of))  
- **é›£ã—ã„**ï¼ˆ*Hard*ï¼‰ â€“ ä½•ã¨ã‹æ€ã„å‡ºã›ãŸãŒéå¸¸ã«å›°é›£ã ã£ãŸï¼ˆè©•ä¾¡å€¤=2ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=,%E2%80%9Ceasy%E2%80%9D))  
- **å®¹æ˜“**ï¼ˆ*Good*ï¼‰ â€“ æ€ã„å‡ºã›ãŸï¼ˆå¤šå°‘ã®æ™‚é–“ã‚„ãƒ’ãƒ³ãƒˆã§æƒ³èµ·ã§ããŸï¼‰ï¼ˆè©•ä¾¡å€¤=3ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=,%E2%80%9Ceasy%E2%80%9D))  
- **è¶…ç°¡å˜**ï¼ˆ*Easy*ï¼‰ â€“ ç°¡å˜ã«ã™ãæƒ³èµ·ã§ããŸï¼ˆè©•ä¾¡å€¤=4ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=,%E2%80%9Ceasy%E2%80%9D))  

â€»UIä¸Šã¯ã€Œè¶…ç°¡å˜ã€ã€Œå®¹æ˜“ã€ã€Œé›£ã—ã„ã€ã€Œå¿˜å´ã€ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€å†…éƒ¨çš„ã«ã¯**1ï½4ã®è©•ä¾¡å€¤**ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20user%E2%80%99s%20self,grade%2C%20and%20it%E2%80%99s%20one%20of))ã€‚ã€Œå¿˜å´=1ã€ã€Œé›£ã—ã„=2ã€ã€Œå®¹æ˜“=3ã€ã€Œè¶…ç°¡å˜=4ã€ã«å¯¾å¿œã—ã¾ã™ã€‚

ãã‚Œãã‚Œã®è©•ä¾¡ã«å¯¾ã™ã‚‹FSRSã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ã‚’è§£èª¬ã—ã¾ã™ã€‚

- **å¿˜å´ï¼ˆFail/Againï¼‰**: **å¾©ç¿’å¤±æ•—**ã¨è¦‹ãªã•ã‚Œã¾ã™ã€‚FSRSã§ã¯ã“ã‚Œã‚’ **ã€Œå®‰å®šåº¦ã®ãƒªã‚»ãƒƒãƒˆã€** ã¨ã—ã¦æ‰±ã„ã€ç¾åœ¨ã®å®‰å®šåº¦Sã‚’å¤§å¹…ã«ä¸‹ã’ã¾ã™ï¼ˆæ–°ãŸãª**ãƒã‚¹ãƒˆãƒ©ãƒ—ã‚¹å®‰å®šåº¦**$S'_f$ã‚’è¨ˆç®—ï¼‰ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=The%20stability%20after%20forgetting%20%28i,lapse%20stability))ã€‚å…·ä½“çš„ã«ã¯ã€é›£æ˜“åº¦Dã‚„å‰å›ã®æƒ³èµ·ç‡Rã‚’è€ƒæ…®ã—ãŸæ•°å¼ã«ã‚ˆã‚Šæ¬¡ã®$S'_f$ã‚’ç®—å‡ºã—ã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=The%20stability%20after%20forgetting%20%28i,lapse%20stability))ã€‚ä¾‹ãˆã°ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§**S=100æ—¥**ã ã£ãŸã‚«ãƒ¼ãƒ‰ã‚’å¿˜å´ã™ã‚‹ã¨ã€**$S'_f \approx 5æ—¥$**ç¨‹åº¦ã¾ã§ä½ä¸‹ã—ã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=%24%24S,R))ã€‚ã“ã®ã‚ˆã†ã«å¿˜ã‚Œã¦ã—ã¾ã£ãŸå ´åˆã€æ¬¡å›ã¯ã”ãçŸ­æœŸé–“ã§å†å¾©ç¿’ã•ã›ã¦è¨˜æ†¶ã‚’ç«‹ã¦ç›´ã™æˆ¦ç•¥ã‚’å–ã‚Šã¾ã™ã€‚é›£æ˜“åº¦Dã«ã¤ã„ã¦ã‚‚**ä¸Šæ˜‡**ã—ã¾ã™ï¼ˆã‚«ãƒ¼ãƒ‰ã‚’ã‚ˆã‚Šã€Œé›£ã—ã„ã€ã¨è©•ä¾¡ã™ã‚‹ï¼‰ã€‚å¿˜å´æ™‚ã¯é›£æ˜“åº¦ãŒå¤§ããå¢—åŠ ã—ã€ä¾‹ãˆã°D=3ã ã£ãŸã‚«ãƒ¼ãƒ‰ã‚’å¿˜ã‚Œã‚‹ã¨æ¬¡ã®Dã¯4å¼·ã«ä¸ŠãŒã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Hitting%20%E2%80%9Cgood%E2%80%9D%20leaves%20difficulty%20unchanged%3A,difficulty%20to%20just%20above%20%244))ã€‚ã“ã®çµæœã€ãã®å¾Œã®å¾©ç¿’é–“éš”ã‚‚çŸ­ã‚ã«æŠ‘ãˆã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

- **é›£ã—ã„ï¼ˆHardï¼‰**: **ã‚®ãƒªã‚®ãƒªæˆåŠŸ**ã—ãŸã‚±ãƒ¼ã‚¹ã§ã™ã€‚ã‚«ãƒ¼ãƒ‰ã¯æƒ³èµ·ã§ãã¦ã„ã¾ã™ã®ã§å®‰å®šåº¦Sã¯å¢—åŠ ã—ã¾ã™ãŒã€ãã®å¢—åŠ å¹…ã«ã¯**ã€Œãƒãƒ¼ãƒ‰ãƒšãƒŠãƒ«ãƒ†ã‚£ã€**ãŒé©ç”¨ã•ã‚ŒæŠ‘åˆ¶ã•ã‚Œã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24h%24%20is%20the%20hard%20penalty%3A))ã€‚FSRSã§ã¯å†…éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿$w_{15}$ï¼ˆ0ï½1ã®å€¤ï¼‰ã‚’ç”¨ã„ã€Hardè©•ä¾¡æ™‚ã¯å®‰å®šåº¦ã®æˆé•·ç‡ã«$w_{15}$ã‚’ä¹—ã˜ã¦æ¸›é€Ÿã•ã›ã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24h%24%20is%20the%20hard%20penalty%3A))ï¼ˆå…¸å‹å€¤$w_{15}\approx0.5$ï½0.8ç¨‹åº¦ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24h%24%20is%20the%20hard%20penalty%3A))ï¼‰ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Œéš›ã©ãæ€ã„å‡ºã›ãŸè¨˜æ†¶ã€ã¯æ¬¡å›ã‚‚æ—©ã‚ã«å¾©ç¿’ã•ã›ã¦ç¢ºå®Ÿã«å®šç€ã•ã›ã¾ã™ã€‚ã¾ãŸé›£æ˜“åº¦Dã¯**ã‚„ã‚„ä¸Šæ˜‡**ã—ã€ã‚«ãƒ¼ãƒ‰ã‚’å°‘ã—é›£ã—ã‚ã«å†è©•ä¾¡ã—ã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Hitting%20%E2%80%9Cgood%E2%80%9D%20leaves%20difficulty%20unchanged%3A,difficulty%20to%20just%20above%20%244))ï¼ˆHardã®å ´åˆã€å¿˜å´ã»ã©ã§ã¯ãªã„ãŒDãŒå¢—ãˆã‚‹ï¼‰ã€‚ä¾‹ãˆã°D=4ã®ã‚«ãƒ¼ãƒ‰ã«Hardã‚’ä»˜ã‘ã‚‹ã¨æ¬¡ã®Dã¯4.5å‰å¾Œã«ä¸ŠãŒã‚‹è¨ˆç®—ã§ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Hitting%20%E2%80%9Cgood%E2%80%9D%20leaves%20difficulty%20unchanged%3A,difficulty%20to%20just%20above%20%244))ã€‚ã“ã®ã‚ˆã†ã«Hardè©•ä¾¡ã§ã¯**ã€Œé–“éš”çŸ­ç¸®ï¼†é›£æ˜“åº¦ã‚¢ãƒƒãƒ—ã€**ã®æ–¹å‘ã§æ¬¡å›ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒçµ„ã¾ã‚Œã¾ã™ã€‚ãªãŠã€FSRSã®å®Ÿè£…ä¸Šã¯Hardã‚‚ã€Œä¸€å¿œã¯æƒ³èµ·æˆåŠŸã€ã®ã‚«ãƒ†ã‚´ãƒªã«å±ã—ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å†…éƒ¨ã§ã¯**Againï¼ˆå¤±æ•—ï¼‰ã¨Hard/Good/Easyï¼ˆæˆåŠŸï¼‰ã®äºŒåˆ†é¡**ã§å‡¦ç†ã•ã‚Œã¾ã™ ([fsrs4anki/docs/tutorial.md at main Â· open-spaced-repetition ... - GitHub](https://github.com/open-spaced-repetition/fsrs4anki/blob/main/docs/tutorial.md#:~:text=GitHub%20github,button))ã€‚

- **å®¹æ˜“ï¼ˆGoodï¼‰**: **å•é¡ŒãªãæˆåŠŸ**ã—ãŸæ¨™æº–çš„ãªã‚±ãƒ¼ã‚¹ã§ã™ã€‚å®‰å®šåº¦Sã¯**é€šå¸¸é€šã‚Šå¢—åŠ **ã—ã€ç‰¹åˆ¥ãªãƒšãƒŠãƒ«ãƒ†ã‚£ã‚„ãƒœãƒ¼ãƒŠã‚¹ã¯ã‚ã‚Šã¾ã›ã‚“ï¼ˆHardã§ã‚‚Easyã§ã‚‚ãªã„ãŸã‚$h=1, b=1$ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24h%24%20is%20the%20hard%20penalty%3A)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24b%24%20is%20the%20opposite%20of,a%20bonus%20for%20easy%20recall))ã€‚æƒ³èµ·ç‡RãŒä½ã‘ã‚Œã°ãã®åˆ†å¤§ããªå®‰å®šåº¦å‘ä¸ŠãŒå¾—ã‚‰ã‚Œã¾ã™ã—ã€RãŒé«˜ã‘ã‚Œã°å¾®å¢—ã«ã¨ã©ã¾ã‚Šã¾ã™ã€‚ã¾ãŸé›£æ˜“åº¦Dã¯**å¤‰åŒ–ã—ã¾ã›ã‚“**ï¼ˆGoodè©•ä¾¡ã§ã¯$\Delta D = 0$ã¨ãªã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€$D' = D$ã¨ãªã‚Šã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Hitting%20%E2%80%9Cgood%E2%80%9D%20leaves%20difficulty%20unchanged%3A,difficulty%20to%20just%20above%20%244))ï¼‰ã€‚ã—ãŸãŒã£ã¦ã‚«ãƒ¼ãƒ‰ã®é›£æ˜“åº¦å°è±¡ã¯ç¶­æŒã•ã‚Œã¾ã™ã€‚æ¬¡å›é–“éš”Iã¯ã€æ–°ã—ãå¾—ã‚‰ã‚ŒãŸå®‰å®šåº¦$S'$ã¨ç›®æ¨™æƒ³èµ·ç‡0.9ã«åŸºã¥ãè¨ˆç®—ã•ã‚Œã¾ã™ã€‚FSRSã§ã¯**Goodè©•ä¾¡æ™‚ã®é–“éš”ã‚’åŸºæº–**ã¨ã—ã€ä»–ã®è©•ä¾¡ã®é–“éš”èª¿æ•´ã¯Hardã‚„Easyã®ä¿‚æ•°ã§è¡Œã†ãŸã‚ã€Goodã¯ã€ŒåŸºæº–é€šã‚Šã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã€ã¨è¨€ãˆã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=Note%3A%20the%20intervals%20after%20Hard,hardInterval))ã€‚

- **è¶…ç°¡å˜ï¼ˆEasyï¼‰**: **ä½™è£•ã‚’æŒã£ã¦æˆåŠŸ**ã—ãŸã‚±ãƒ¼ã‚¹ã§ã™ã€‚å®‰å®šåº¦Sã¯**å¤§ããå¢—åŠ **ã—ã€**ã€Œã‚¤ãƒ¼ã‚¸ãƒ¼ãƒœãƒ¼ãƒŠã‚¹ã€**ãŒé©ç”¨ã•ã‚Œã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24b%24%20is%20the%20opposite%20of,a%20bonus%20for%20easy%20recall))ã€‚å†…éƒ¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿$w_{16}$ï¼ˆ1ä»¥ä¸Šã®å€¤ï¼‰ã«ã‚ˆã£ã¦ã€Easyè©•ä¾¡æ™‚ã¯å®‰å®šåº¦ã®æˆé•·ç‡ãŒã•ã‚‰ã«å¢—å¹…ã•ã‚Œã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=effect))ï¼ˆå…¸å‹å€¤$w_{16}\approx1.3$ç¨‹åº¦ ([How to use the next-generation spaced repetition algorithm FSRS ...](https://forums.ankiweb.net/t/how-to-use-the-next-generation-spaced-repetition-algorithm-fsrs-on-anki/25415#:~:text=There%20are%20my%20current%20settings%2C,FSRS%20only%20modifies%20the))ï¼‰ã€‚ä¾‹ãˆã°åŒã˜æƒ³èµ·ç‡Rã§ã‚‚ã€Easyè©•ä¾¡ã®æ–¹ãŒGoodè©•ä¾¡ã‚ˆã‚Šã‚‚SãŒå¤§ããä¼¸ã³ã€æ¬¡å›é–“éš”ãŒé•·ãè¨­å®šã•ã‚Œã¾ã™ã€‚é›£æ˜“åº¦Dã¯**ä½ä¸‹**ã—ã¾ã™ï¼ˆã‚«ãƒ¼ãƒ‰ãŒã€Œã‚ˆã‚Šæ˜“ã—ã„ã€ã¨å†è©•ä¾¡ã•ã‚Œã‚‹ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Hitting%20%E2%80%9Cgood%E2%80%9D%20leaves%20difficulty%20unchanged%3A,difficulty%20to%20just%20above%20%244))ã€‚å…·ä½“çš„ã«ã¯Easyè©•ä¾¡ã§ã¯$\Delta D$ãŒè² ã«ãªã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ãŠã‚Šã€ä¾‹ãˆã°D=4ã®ã‚«ãƒ¼ãƒ‰ã«Easyã‚’ä»˜ã‘ã‚‹ã¨æ¬¡ã®Dã¯3ç¨‹åº¦ã«ä¸‹ãŒã‚Šã¾ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Hitting%20%E2%80%9Cgood%E2%80%9D%20leaves%20difficulty%20unchanged%3A,difficulty%20to%20just%20above%20%244))ã€‚ã“ã‚Œã«ã‚ˆã‚Šå°†æ¥çš„ã«ã‚‚ãã®ã‚«ãƒ¼ãƒ‰ã¯é•·ã‚ã®é–“éš”ã§å›ã—ã¦è‰¯ã„ã¨åˆ¤æ–­ã•ã‚Œã¾ã™ã€‚ç·ã˜ã¦Easyè©•ä¾¡ã§ã¯**ã€Œé–“éš”å»¶é•·ï¼†é›£æ˜“åº¦ãƒ€ã‚¦ãƒ³ã€**ã®æ–¹å‘ã§æ¬¡å›ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒçµ„ã¾ã‚Œã¾ã™ã€‚

ä»¥ä¸Šã‚’ã¾ã¨ã‚ã‚‹ã¨ã€**å¿˜å´ãƒ»é›£ã—ã„**ã®è©•ä¾¡ã§ã¯é–“éš”ã‚’çŸ­ãã—ã¦æ—©ã‚ã«å†å¾©ç¿’ã€**å®¹æ˜“ãƒ»è¶…ç°¡å˜**ã®è©•ä¾¡ã§ã¯é–“éš”ã‚’å»¶ã°ã—ã¦åŠ¹ç‡åŒ–ã€ã¨ã„ã†ãƒ¡ãƒªãƒãƒªã®ã‚ã‚‹èª¿æ•´ãŒè¡Œã‚ã‚Œã¾ã™ã€‚ã¾ãŸHard/Good/Easyã¯ã„ãšã‚Œã‚‚æƒ³èµ·æˆåŠŸï¼ˆ**Pass**ï¼‰ã¨ã—ã¦æ‰±ã‚ã‚Œã€FSRSå†…éƒ¨ã§ã¯ã€ŒæˆåŠŸï¼ˆHardä»¥ä¸Šï¼‰ã‹å¤±æ•—ï¼ˆAgainã‹ï¼‰ã‹ã€ã§ã¾ãšåˆ†å²ã—ã¾ã™ ([fsrs4anki/docs/tutorial.md at main Â· open-spaced-repetition ... - GitHub](https://github.com/open-spaced-repetition/fsrs4anki/blob/main/docs/tutorial.md#:~:text=GitHub%20github,button))ã€‚æˆåŠŸã®å ´åˆã¯ã•ã‚‰ã«Hard/Easyã‹ã©ã†ã‹ã§å¾®èª¿æ•´ã™ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24h%24%20is%20the%20hard%20penalty%3A)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24b%24%20is%20the%20opposite%20of,a%20bonus%20for%20easy%20recall))ã€‚ã“ã®ã‚·ãƒ³ãƒ—ãƒ«ãªè©•ä¾¡ãƒ­ã‚¸ãƒƒã‚¯ã§ã‚ã‚ŠãªãŒã‚‰ã€é›£æ˜“åº¦Dã¨å®‰å®šåº¦Sã‚’ã‚«ãƒ¼ãƒ‰ã”ã¨ã«æ›´æ–°ãƒ»ä¿æŒã™ã‚‹ã“ã¨ã§ã€å„ã‚«ãƒ¼ãƒ‰ã«æœ€é©åŒ–ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒ«ã‚’ç®—å‡ºã§ãã‚‹ç‚¹ãŒFSRSã®ç‰¹å¾´ã§ã™ã€‚

## FSRSã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤
FSRSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«ã¯å¤šæ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ã¾ã™ã€‚**FSRS v4**ã§ã¯**17å€‹ã®é‡ã¿ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ã«ã‚ˆã£ã¦ãƒ¢ãƒ‡ãƒ«ã‚’èª¿æ•´ã—ã¦ãŠã‚Šã€æœ€æ–°ç‰ˆã®**FSRS-5**ã§ã¯19ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«æ‹¡å¼µã•ã‚Œã¦ã„ã¾ã™ ([FSRS is now the most accurate spaced repetition algorithm in the world* : r/Anki](https://www.reddit.com/r/Anki/comments/18csuer/fsrs_is_now_the_most_accurate_spaced_repetition/#:~:text=It%20wasn%27t%20terrible%2C%20but%20it,and%20then)) ([ABC of FSRS Â· open-spaced-repetition/fsrs4anki Wiki - GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/abc-of-fsrs#:~:text=ABC%20of%20FSRS%20%C2%B7%20open,If%20you))ã€‚ä¸»ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯æ•°å¼ä¸­ã®$w_0, w_1, ...$ãªã©ã§ã€ä¾‹ãˆã°:

- $w_0ï½w_3$: åˆå›å®‰å®šåº¦ã®åŸºæº–å€¤ï¼ˆåˆå›è©•ä¾¡ãŒAgain/Hard/Good/Easyã®ã¨ãã®åˆæœŸSå€¤ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20first%20time%20the%20user,card%2C%20its%20initial%20stability%20is))ã€‚
- $w_4, w_5$: åˆå›é›£æ˜“åº¦$D_0$è¨ˆç®—ç”¨ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20initial%20difficulty%2C%20after%20the,first%20review%2C%20is%20defined%20by))ã€‚
- $w_6, w_7$: é›£æ˜“åº¦Dæ›´æ–°ã®ä¿‚æ•°ï¼ˆé›£æ˜“åº¦å¤‰åŒ–é‡$\Delta D$ã‚„æ··åˆä¿‚æ•°ã«å½±éŸ¿ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=For%20any%20review%20other%20than,first%2C%20difficulty%20is%20updated%20by))ã€‚
- $w_8, w_9, w_{10}$: å®‰å®šåº¦æ›´æ–°$\alpha$ä¿‚æ•°ã®èª¿æ•´é …ï¼ˆãã‚Œãã‚ŒåŸºç¤æˆé•·ç‡ã€å®‰å®šåº¦é£½å’Œã€æƒ³èµ·ç‡é£½å’Œã«å¯¾å¿œï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=,w_8)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24t_s%24%20determines%20how%20today%E2%80%99s%20stability,affects%20the%20next%20stability))ã€‚
- $w_{15}$: HardãƒšãƒŠãƒ«ãƒ†ã‚£ä¿‚æ•°ï¼ˆHardæ™‚ã®å®‰å®šåº¦æˆé•·ã‚’æ¸›è¡°ã€0ï½1ã®ç¯„å›²ï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24h%24%20is%20the%20hard%20penalty%3A))ã€‚
- $w_{16}$: Easyãƒœãƒ¼ãƒŠã‚¹ä¿‚æ•°ï¼ˆEasyæ™‚ã®å®‰å®šåº¦æˆé•·ã‚’å¢—å¹…ã€1ä»¥ä¸Šï¼‰ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24b%24%20is%20the%20opposite%20of,a%20bonus%20for%20easy%20recall))ã€‚

åŠ ãˆã¦ã€FSRSå®Ÿè£…ã§ã¯**ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šå¯èƒ½ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**ã‚‚ã„ãã¤ã‹æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚ä¾‹ãˆã°FSRS4Ankiã‚„ts-fsrsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªé …ç›®ãŒã‚ã‚Šã¾ã™ ([FSRS4Anki v4.14.4 Simulator - Colab](https://colab.research.google.com/github/open-spaced-repetition/fsrs4anki/blob/v4.14.4/fsrs4anki_simulator.ipynb#:~:text=FSRS4Anki%20v4.14.4%20Simulator%20,0%20minimumInterval%20%3D%201)):

- **requestRetention**ï¼ˆè¦æ±‚æƒ³èµ·ç‡ï¼‰: æ¬¡å›å¾©ç¿’æ™‚ã®ç›®æ¨™æƒ³èµ·ç‡ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯**0.9 (90%)**ã«è¨­å®šã•ã‚Œã¦ã„ã¾ã™ ([FSRSç®—æ³•ä¼˜åŒ–Anki Schedule(15) - å±±çŒ«'s Blog](https://cs-cn.top/2022/11/02/FSRS4AnkiHelper/#:~:text=FSRS%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96Anki%20Schedule%2815%29%20,parameters%20for%20a))ã€‚
- **easyBonus**ï¼ˆã‚¤ãƒ¼ã‚¸ãƒ¼ãƒœãƒ¼ãƒŠã‚¹ï¼‰: Easyè©•ä¾¡æ™‚ã®é–“éš”å€ç‡ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯**1.3**ã§ã€ã“ã‚Œã¯ã€ŒEasyã®å ´åˆã¯é€šå¸¸è¨ˆç®—ã®1.3å€ã®é–“éš”ã‚’ä¸ãˆã‚‹ã€ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ ([FSRS4Anki v4.14.4 Simulator - Colab](https://colab.research.google.com/github/open-spaced-repetition/fsrs4anki/blob/v4.14.4/fsrs4anki_simulator.ipynb#:~:text=FSRS4Anki%20v4.14.4%20Simulator%20,0%20minimumInterval%20%3D%201))ã€‚
- **hardInterval**ï¼ˆãƒãƒ¼ãƒ‰é–“éš”ä¿‚æ•°ï¼‰: Hardè©•ä¾¡æ™‚ã®é–“éš”å€ç‡ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯**1.2**ã§ã€ã€ŒHardã®å ´åˆã¯å‰å›é–“éš”ã®1.2å€ã‚’æ¬¡å›é–“éš”ã®ä¸Šé™ã¨ã™ã‚‹ã€ç›®å®‰ã«ãªã‚Šã¾ã™ ([FSRS4Anki v4.14.4 Simulator - Colab](https://colab.research.google.com/github/open-spaced-repetition/fsrs4anki/blob/v4.14.4/fsrs4anki_simulator.ipynb#:~:text=FSRS4Anki%20v4.14.4%20Simulator%20,0%20minimumInterval%20%3D%201))ã€‚â€»FSRSã§ã¯Hardæ™‚ã€å³å¯†ã«ã¯å®‰å®šåº¦è¨ˆç®—ã«ã‚ˆã‚Šã¾ã™ãŒã€Ankiå®Ÿè£…ã§ã¯å‰å›é–“éš”ã«1.2å€ã‚’æ›ã‘ãŸå€¤ã¨æ¯”è¼ƒã—ã¦çŸ­ã„æ–¹ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ ([How to use the next-generation spaced repetition algorithm FSRS ...](https://forums.ankiweb.net/t/how-to-use-the-next-generation-spaced-repetition-algorithm-fsrs-on-anki/25415#:~:text=There%20are%20my%20current%20settings%2C,FSRS%20only%20modifies%20the))ã€‚
- **maximumInterval**ï¼ˆæœ€å¤§é–“éš”ï¼‰: å¾©ç¿’é–“éš”ã®ä¸Šé™æ—¥æ•°ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯**36500æ—¥ï¼ˆç´„100å¹´ï¼‰**ã¨ã—ã€äº‹å®Ÿä¸Šç„¡åˆ¶é™ã«è¿‘ã„å€¤ã§ã™ ([FSRSç®—æ³•ä¼˜åŒ–Anki Schedule(15) - å±±çŒ«'s Blog](https://cs-cn.top/2022/11/02/FSRS4AnkiHelper/#:~:text=FSRS%E7%AE%97%E6%B3%95%E4%BC%98%E5%8C%96Anki%20Schedule%2815%29%20,parameters%20for%20a))ã€‚
- **minimumInterval**ï¼ˆæœ€å°é–“éš”ï¼‰: å¾©ç¿’é–“éš”ã®ä¸‹é™æ—¥æ•°ã€‚é€šå¸¸**1æ—¥**ã¨ã—ã¾ã™ï¼ˆå­¦ç¿’ã‚¹ãƒ†ãƒƒãƒ—ã®å ´åˆã‚’é™¤ãï¼‰ ([FSRS4Anki v4.14.4 Simulator - Colab](https://colab.research.google.com/github/open-spaced-repetition/fsrs4anki/blob/v4.14.4/fsrs4anki_simulator.ipynb#:~:text=FSRS4Anki%20v4.14.4%20Simulator%20,0%20minimumInterval%20%3D%201))ã€‚
- **(re)learning steps**ï¼ˆå­¦ç¿’ã‚¹ãƒ†ãƒƒãƒ—ï¼‰: FSRSã¯**é•·æœŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã®ã¿**æ‹…å½“ã™ã‚‹ãŸã‚ã€æ–°è¦ã‚«ãƒ¼ãƒ‰å­¦ç¿’ã‚„å¤±æ•—ã‚«ãƒ¼ãƒ‰å†å­¦ç¿’ã®åˆæœŸã‚¹ãƒ†ãƒƒãƒ—ï¼ˆæ•°åˆ†å¾Œã‚„ç¿Œæ—¥ãªã©ï¼‰ã¯åˆ¥é€”è¨­å®šã—ã¾ã™ ([åœæ™—å“²/fsrs4anki - Gitee](https://gitee.com/buhanzhe/fsrs4anki#:~:text=...%20easyBonus,%2F%2F%20I%20recommend))ã€‚Ankiãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯æ–°è¦ã‚«ãƒ¼ãƒ‰ã¯ã€Œ1åˆ†â†’10åˆ†â†’ç¿Œæ—¥ã€ã¨ã„ã£ãŸçŸ­æœŸã‚¹ãƒ†ãƒƒãƒ—ã‚’è¸ã¿ã¾ã™ãŒã€FSRSçµ„ã¿è¾¼ã¿æ™‚ã‚‚ã“ã‚Œã‚‰ã¯Ankiè¨­å®šã‚’ãã®ã¾ã¾ç”¨ã„ã‚‹ã‚ˆã†æ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ ([åœæ™—å“²/fsrs4anki - Gitee](https://gitee.com/buhanzhe/fsrs4anki#:~:text=...%20easyBonus,%2F%2F%20I%20recommend))ã€‚

ä¸Šè¨˜ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€ãã®çµ„ã¿åˆã‚ã›ï¼ˆ17æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«ï¼‰ã¯é–‹ç™ºè€…æä¾›ã®ã‚‚ã®ãŒã‚ã‚Šã¾ã™ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=Default%20parameters))ã€‚ã—ã‹ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«è¨˜æ†¶ã®ç™–ã¯ç•°ãªã‚‹ãŸã‚ã€FSRSã§ã¯å„è‡ªã®å­¦ç¿’å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰**æœ€é©ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’æ©Ÿæ¢°å­¦ç¿’ã§ãƒ•ã‚£ãƒƒãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã€Œã‚ªãƒ—ãƒ†ã‚£ãƒã‚¤ã‚¶ã€**ã‚‚æä¾›ã—ã¦ã„ã¾ã™ ([GitHub - open-spaced-repetition/fsrs4anki: A modern Anki custom scheduling based on Free Spaced Repetition Scheduler algorithm](https://github.com/open-spaced-repetition/fsrs4anki#:~:text=FSRS4Anki%20consists%20of%20two%20main,the%20scheduler%20and%20the%20optimizer))ã€‚FSRS4Ankiã§ã¯å­¦ç¿’ãƒ­ã‚°ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦è‡ªåˆ†å°‚ç”¨ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’ç®—å‡ºã™ã‚‹ä»•çµ„ã¿ãŒã‚ã‚Š ([GitHub - open-spaced-repetition/fsrs4anki: A modern Anki custom scheduling based on Free Spaced Repetition Scheduler algorithm](https://github.com/open-spaced-repetition/fsrs4anki#:~:text=,read%20the%20mechanism%20of%20optimization))ã€ã“ã‚Œã«ã‚ˆã‚Šä¸€å±¤ç²¾åº¦ã®é«˜ã„å€‹äººåŒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ãŒå¯èƒ½ã§ã™ã€‚ã‚‚ã£ã¨ã‚‚ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®ã¾ã¾ã§ã‚‚å¾“æ¥ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆSM-2ç­‰ï¼‰ã‚’ä¸Šå›ã‚‹æ€§èƒ½ãŒå ±å‘Šã•ã‚Œã¦ãŠã‚Š ([FSRS is now the most accurate spaced repetition algorithm in the world* : r/Anki](https://www.reddit.com/r/Anki/comments/18csuer/fsrs_is_now_the_most_accurate_spaced_repetition/#:~:text=It%20wasn%27t%20terrible%2C%20but%20it,and%20then)) ([FSRS is now the most accurate spaced repetition algorithm in the world* : r/Anki](https://www.reddit.com/r/Anki/comments/18csuer/fsrs_is_now_the_most_accurate_spaced_repetition/#:~:text=,This))ã€ã¾ãšã¯æ—¢å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§åˆ©ç”¨é–‹å§‹ã—ã¦å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚

ãªãŠã€FSRSã¯ç¾åœ¨**TypeScript/JavaScriptã€Pythonã€Goã€Rust**ãªã©è¤‡æ•°ã®è¨€èªã§å…¬å¼å®Ÿè£…ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒæä¾›ã•ã‚Œã¦ã„ã¾ã™ ([GitHub - open-spaced-repetition/free-spaced-repetition-scheduler: A spaced repetition algorithm based on DSR model](https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler#:~:text=))ã€‚Web/ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªé–‹ç™ºè€…ã¯ã“ã‚Œã‚‰ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è©³ç´°ã‚’æ„è­˜ã›ãšã«FSRSã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’çµ„ã¿è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚

## React Native/Next.jsã¸ã®å®Ÿè£…ä¾‹ã¨ã‚³ãƒ¼ãƒ‰
React Nativeã‚„Next.jsãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ—ãƒªã«FSRSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’çµ„ã¿è¾¼ã‚€å ´åˆã€å‰è¿°ã®å…¬å¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**ts-fsrsï¼ˆTypeScriptå®Ÿè£…ï¼‰**ã‚’åˆ©ç”¨ã™ã‚‹ã®ãŒç°¡ä¾¿ã§ã™ ([GitHub - open-spaced-repetition/free-spaced-repetition-scheduler: A spaced repetition algorithm based on DSR model](https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler#:~:text=))ã€‚ä»¥ä¸‹ã€Next.jsï¼ˆReactï¼‰ã‚’ä¾‹ã«åŸºæœ¬çš„ãªå®Ÿè£…æ‰‹é †ã¨ã‚³ãƒ¼ãƒ‰ä¾‹ã‚’ç¤ºã—ã¾ã™ã€‚

1. **ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: npmã‚‚ã—ãã¯yarnã§`ts-fsrs`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¾ã™ï¼ˆNode.js v18ä»¥ä¸Šæ¨å¥¨ï¼‰ ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=Usage))ã€‚  
   ```bash
   npm install ts-fsrs
   ```
2. **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®åˆæœŸåŒ–**: ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã«FSRSã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”Ÿæˆã§å•é¡Œã‚ã‚Šã¾ã›ã‚“ï¼ˆå¿…è¦ã«å¿œã˜ã¦`requestRetention`ã‚„`maximum_interval`ç­‰ã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒ³æŒ‡å®šå¯èƒ½ï¼‰ ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=import%20,fsrs)) ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=The%20library%20allows%20for%20customization,example%20setting%20a%20maximum%20interval))ã€‚ä¾‹ãˆã°Next.jsã®ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ã‚„React Contextã§ä»¥ä¸‹ã®ã‚ˆã†ã«åˆæœŸåŒ–ã—ã¾ã™ã€‚  

   ```typescript
   import { fsrs, generatorParameters, createEmptyCard, Rating, Card } from 'ts-fsrs';

   // FSRSãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§fuzzç­‰ç„¡åŠ¹åŒ–ï¼‰
   const params = generatorParameters({ 
     enable_fuzz: true,        // intervalã«ãƒ©ãƒ³ãƒ€ãƒ æºã‚‰ãã‚’åŠ ãˆã‚‹ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
     enable_short_term: false  // å­¦ç¿’ã‚¹ãƒ†ãƒƒãƒ—ã¯åˆ¥ç®¡ç†ï¼ˆAnkiæ–¹å¼ï¼‰
     // ä»–ã€maximum_intervalã‚„requestRetentionã‚‚æŒ‡å®šå¯èƒ½
   });
   // ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©é–¢æ•°ã®ç”Ÿæˆ
   const scheduler = fsrs(params);
   ```

3. **ã‚«ãƒ¼ãƒ‰æƒ…å ±ã®ç®¡ç†**: å„ã‚«ãƒ¼ãƒ‰ã«å¯¾ã—ã€FSRSãŒå¿…è¦ã¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆå®‰å®šåº¦Sã€é›£æ˜“åº¦Dã€æ¬¡å›äºˆå®šæ—¥ãªã©ï¼‰ã‚’ä¿æŒã—ã¾ã™ã€‚`ts-fsrs`ã§ã¯`Card`ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã“ã‚Œã‚‰ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚æ–°è¦ã‚«ãƒ¼ãƒ‰ã¯`createEmptyCard()`ã§ä½œæˆã§ãã€åˆæœŸçŠ¶æ…‹ã§ã¯**Newï¼ˆæ–°è¦ï¼‰**ã¨ã—ã¦å®‰å®šåº¦ãƒ»é›£æ˜“åº¦ã¯æœªè¨­å®šã«ãªã‚Šã¾ã™ ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=import%20,18T14%3A32%3A03.370Z))ã€‚ã‚«ãƒ¼ãƒ‰ã”ã¨ã«ä»¥ä¸‹ã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ï¼ˆRNãªã‚‰AsyncStorageã‚„SQLiteã€Next.jsãªã‚‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹/LocalStorageç­‰ã«ä¿å­˜ï¼‰:

   - `card.due`: æ¬¡å›å¾©ç¿’äºˆå®šæ—¥æ™‚  
   - `card.stability`: ç¾åœ¨ã®å®‰å®šåº¦S  
   - `card.difficulty`: ç¾åœ¨ã®é›£æ˜“åº¦D  
   - `card.last_review`: æœ€å¾Œã«å¾©ç¿’ã—ãŸæ—¥æ™‚  
   - `card.state`: çŠ¶æ…‹ï¼ˆNew, Learning, Review, Relearning ã®ã„ãšã‚Œã‹ï¼‰ ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=match%20at%20L470%20rating%3A%20Rating%3B,the%20card%20before%20the%20review))

4. **è©•ä¾¡æ™‚ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°å‡¦ç†**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ãƒ¼ãƒ‰ã‚’å­¦ç¿’ã—ã€4æŠï¼ˆè¶…ç°¡å˜ï½å¿˜å´ï¼‰ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ãŸã‚‰ã€ä»¥ä¸‹ã®å‡¦ç†ã§ã‚«ãƒ¼ãƒ‰ã®æ¬¡å›äºˆå®šã‚’æ›´æ–°ã—ã¾ã™ã€‚

   ```typescript
   function onReview(card: Card, rating: Rating) {
     const now = new Date();
     // FSRSã§æ¬¡ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¨ˆç®—
     const result = scheduler.next(card, now, rating);
     const updatedCard: Card = result.card;
     const reviewLog = result.log;
     console.log(`è©•ä¾¡:${Rating[rating]} â†’ æ¬¡å›äºˆå®šæ—¥: ${updatedCard.due}`);
     // æ›´æ–°ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰æƒ…å ±ã‚’ä¿å­˜ï¼ˆstateç®¡ç†ã‚„DBä¿å­˜ï¼‰
     saveCard(updatedCard);
   }
   ```

   ä¸Šè¨˜ã®ã‚ˆã†ã«ã€`scheduler.next(ç¾åœ¨ã®ã‚«ãƒ¼ãƒ‰, ç¾åœ¨æ—¥æ™‚, è©•ä¾¡)`ã‚’å‘¼ã¶ã“ã¨ã§ã€FSRSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãŒãã®è©•ä¾¡ã«åŸºã¥ã„ãŸ**æ›´æ–°å¾Œã®ã‚«ãƒ¼ãƒ‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**ï¼ˆå®‰å®šåº¦ãƒ»é›£æ˜“åº¦ãƒ»æ¬¡å›æ—¥æ™‚ãªã©åæ˜ æ¸ˆã¿ï¼‰ã¨**ãƒ­ã‚°æƒ…å ±**ã‚’è¿”ã—ã¾ã™ã€‚ä¾‹ãˆã°è©•ä¾¡ãŒ`Rating.Easy`ï¼ˆè¶…ç°¡å˜ï¼‰ãªã‚‰ã€å†…éƒ¨ã§Easyãƒœãƒ¼ãƒŠã‚¹ä»˜ãã®è¨ˆç®—ãŒè¡Œã‚ã‚Œã€`updatedCard.due`ã«ã¯ç¾åœ¨æ—¥æ™‚ã‚ˆã‚Šé•·ã„å°†æ¥ã®æ—¥ä»˜ãŒè¨­å®šã•ã‚Œã¾ã™ã€‚`Rating.Again`ï¼ˆå¿˜å´ï¼‰ãªã‚‰`updatedCard.difficulty`ãŒä¸Šæ˜‡ã—ã€`updatedCard.due`ã¯è¿‘ã„å°†æ¥ï¼ˆæ—¥ä»˜ãŒæ—©ã‚ï¼‰ã«è¨­å®šã•ã‚Œã¾ã™ã€‚**è¨ˆç®—å¾Œã®ã‚«ãƒ¼ãƒ‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ°¸ç¶šåŒ–**ã™ã‚‹ã“ã¨ã§ã€æ¬¡å›ä»¥é™ã®å­¦ç¿’ã«åæ˜ ã•ã‚Œã¾ã™ã€‚

   > ğŸ’¡ *è£œè¶³:* `scheduler.repeat(card, now)`ã¨ã„ã†é–¢æ•°ã‚‚ã‚ã‚Šã€ã“ã‚Œã¯æŒ‡å®šã‚«ãƒ¼ãƒ‰ã‚’**Again/Hard/Good/Easyå„è©•ä¾¡ã‚’ã—ãŸå ´åˆã®çµæœã‚’ã¾ã¨ã‚ã¦è¿”ã™**ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã§ ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=createEmptyCard,repeat%28card%2C%20now))ã€‘ã€‚ä¾‹ãˆã°ãƒœã‚¿ãƒ³ã«å„è©•ä¾¡ã§ã®æ¬¡å›é–“éš”ã‚’äº‹å‰è¡¨ç¤ºã—ãŸã„å ´åˆãªã©ã«åˆ©ç”¨ã§ãã¾ã™ã€‚`repeat`ã¯å†…éƒ¨çš„ã«`Again, Hard, Good, Easy`ã®4é€šã‚Šã«ã¤ã„ã¦`next`ã‚’å®Ÿè¡Œã—çµæœã‚’é…åˆ—ã§è¿”ã—ã¾ ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=%2F%2F%20console,...card))ã€‘ã€‚

5. **UIã¸ã®åæ˜ **: ã‚ã¨ã¯é€šå¸¸ã®Flashcardã‚¢ãƒ—ãƒªã¨åŒæ§˜ã€å½“æ—¥ãŒ`card.due`ã‚’éããŸã‚«ãƒ¼ãƒ‰ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã«å‡ºã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è§£ç­”ã«å¿œã˜ã¦ä¸Šè¨˜`onReview`å‡¦ç†ã‚’å‘¼ã³å‡ºã™ã ã‘ã§ã™ã€‚React Nativeã§ã‚‚ã‚„ã‚‹ã“ã¨ã¯åŒæ§˜ã§ã€`ts-fsrs`ã¯React Nativeç’°å¢ƒï¼ˆJavaScriptãƒ©ãƒ³ã‚¿ã‚¤ãƒ ï¼‰ã§å‹•ä½œã—ã¾ã™ã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’æŒã¤å ´åˆã€Next.jsã®API Routesã‚„ã‚µãƒ¼ãƒãƒ¼å´ã§åŒæ§˜ã®è¨ˆç®—ã‚’è¡Œã„ã€çµæœã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æ¸¡ã—ã¦ã‚‚æ§‹ã„ã¾ã›ã‚“ã€‚

ä»¥ä¸Šã®ã‚ˆã†ã«ã€FSRSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¯å…¬å¼å®Ÿè£…ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã†ã“ã¨ã§æ¯”è¼ƒçš„å®¹æ˜“ã«çµ„ã¿è¾¼ã‚ã¾ã™ã€‚**ä¾‹ã¨ã—ã¦Next.js + Prismaã‚’ç”¨ã„ãŸãƒ‡ãƒ¢å®Ÿè£…**ãŒGitHubä¸Šã§å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€å‚è€ƒã«ãªã‚‹ã§ã—ã‚‡ ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=%2A%20Docs%20,Next.js%2BDrizzle%2BtRPC))ã€‘ã€‚ã¾ãŸFSRSã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚„ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ã‚‚å…¬é–‹ã•ã‚Œã¦ãŠã‚Šã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã‚„å‹•ä½œæ¤œè¨¼ã«å½¹ç«‹ã¡ã¾ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=As%20far%20as%20I%20know%2C,let%E2%80%99s%20build%20a%20simulation%20tool))ã€‘ã€‚FSRSã‚’å°å…¥ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã«é©å¿œã—ãŸé«˜åº¦ãªé–“éš”æœ€é©åŒ–ãŒå¯èƒ½ã¨ãªã‚Šã€ç„¡é§„ã®å°‘ãªã„åŠ¹ç‡çš„ãªå­¦ç¿’ä½“é¨“ã‚’æä¾›ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚

**Sources:**

- FSRSå…¬å¼GitHubãƒªãƒã‚¸ãƒˆãƒª (ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è§£èª¬ãƒ»å®Ÿè£… ([GitHub - open-spaced-repetition/free-spaced-repetition-scheduler: A spaced repetition algorithm based on DSR model](https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler#:~:text=What%20is%20the%20principle%20of,FSRS)) ([GitHub - open-spaced-repetition/free-spaced-repetition-scheduler: A spaced repetition algorithm based on DSR model](https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler#:~:text=The%20algorithm%20,adapt%20to%20the%20user%27s%20memory)) ([GitHub - open-spaced-repetition/free-spaced-repetition-scheduler: A spaced repetition algorithm based on DSR model](https://github.com/open-spaced-repetition/free-spaced-repetition-scheduler#:~:text=))ã€‘  
- FSRS4Anki Wiki: ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è©³ ([The Algorithm Â· open-spaced-repetition/fsrs4anki Wiki Â· GitHub](https://github.com/open-spaced-repetition/fsrs4anki/wiki/The-Algorithm#:~:text=1,spacing%20effect%20accumulates%20over%20time)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24h%24%20is%20the%20hard%20penalty%3A)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=%24b%24%20is%20the%20opposite%20of,a%20bonus%20for%20easy%20recall)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Hitting%20%E2%80%9Cgood%E2%80%9D%20leaves%20difficulty%20unchanged%3A,difficulty%20to%20just%20above%20%244))ã€‘  
- Borretti, F. â€œImplementing FSRS in 100 Linesâ€ (ç†è«–ã¨ã‚³ãƒ¼ãƒ‰è§£èª¬ ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=The%20user%E2%80%99s%20self,grade%2C%20and%20it%E2%80%99s%20one%20of)) ([Implementing FSRS in 100 Lines](https://borretti.me/article/implementing-fsrs-in-100-lines#:~:text=Hitting%20%E2%80%9Cgood%E2%80%9D%20leaves%20difficulty%20unchanged%3A,difficulty%20to%20just%20above%20%244))ã€‘  
- Reddit: FSRSã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ç²¾åº¦ãƒ»ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯è­° ([FSRS is now the most accurate spaced repetition algorithm in the world* : r/Anki](https://www.reddit.com/r/Anki/comments/18csuer/fsrs_is_now_the_most_accurate_spaced_repetition/#:~:text=,This)) ([FSRS is now the most accurate spaced repetition algorithm in the world* : r/Anki](https://www.reddit.com/r/Anki/comments/18csuer/fsrs_is_now_the_most_accurate_spaced_repetition/#:~:text=It%20wasn%27t%20terrible%2C%20but%20it,and%20then))ã€‘  
- Ankiãƒ•ã‚©ãƒ¼ãƒ©ãƒ /å…¬å¼è³‡æ–™: FSRSãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿è¨­å®š ([How to use the next-generation spaced repetition algorithm FSRS ...](https://forums.ankiweb.net/t/how-to-use-the-next-generation-spaced-repetition-algorithm-fsrs-on-anki/25415#:~:text=There%20are%20my%20current%20settings%2C,FSRS%20only%20modifies%20the)) ([FSRS4Anki v4.14.4 Simulator - Colab](https://colab.research.google.com/github/open-spaced-repetition/fsrs4anki/blob/v4.14.4/fsrs4anki_simulator.ipynb#:~:text=FSRS4Anki%20v4.14.4%20Simulator%20,0%20minimumInterval%20%3D%201))ã€‘  
- ts-fsrs ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ (ä½¿ç”¨æ–¹æ³•ãƒ»ã‚³ãƒ¼ãƒ‰ä¾‹ ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=import%20,fsrs)) ([GitHub - open-spaced-repetition/ts-fsrs: ts-fsrs is a versatile package based on TypeScript that supports ES modules, CommonJS, and UMD.](https://github.com/open-spaced-repetition/ts-fsrs#:~:text=%2F%2F%20console,...card))ã€‘